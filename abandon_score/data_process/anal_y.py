# ============================================================
# check_label_distribution.py
#   - data/label/Y.csv ë¼ë²¨ ë¹„ìœ¨ ì¶œë ¥
# ============================================================

import pandas as pd

# ------------------------------------------------------------
# 1ï¸âƒ£ CSV ë¡œë“œ
# ------------------------------------------------------------
path = "data/label/Y.csv"

try:
    df_y = pd.read_csv(path)
except FileNotFoundError:
    raise FileNotFoundError(f"âš ï¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {path}")

if "impulse" not in df_y.columns:
    raise ValueError("âš ï¸ 'impulse' ì»¬ëŸ¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Y.csv í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”.")

# ------------------------------------------------------------
# 2ï¸âƒ£ ë¼ë²¨ ë¶„í¬ ê³„ì‚°
# ------------------------------------------------------------
counts = df_y["impulse"].value_counts().sort_index()
total = counts.sum()
ratios = (counts / total * 100).round(2)

# ------------------------------------------------------------
# 3ï¸âƒ£ ì¶œë ¥
# ------------------------------------------------------------
print("ğŸ“Š 'ìœ ê¸° ì¶©ë™ ê²½í—˜' ë¼ë²¨ ë¶„í¬")
for label, count in counts.items():
    print(f"  {label} : {count}ëª… ({ratios[label]}%)")

print(f"\nì´ ìƒ˜í”Œ ìˆ˜: {total}")
